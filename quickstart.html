
<!-- This layout has been taken from http://globus.org/provision/ -->


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Rain QuickStart &mdash; FutureGrid 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="FutureGrid 1.0 documentation" href="index.html" />
    <link rel="next" title="Rain Documentation" href="documentation.html" />
    <link rel="prev" title="What is FutureGrid Rain?" href="whatis.html" /> 
  </head>
  <body>

	
<div style="background-image:url('_static/header_bg.png');background-color: #2E2E2E; text-align: left; padding: 10px 10px 15px 35px">
<table>
  <tr>
    <td>
      <a href="index.html"><img src="_static/fg-logo-grid.png" border="0" alt="FutureGrid Rain"/></a>
    </td>
    <td>
      <font size="5" color="white"><b><i>FutureGrid</i></b></font><br><br>
      <font size="10" color="white" face="Comic Sans MS"><b><i>Rain</i></b></font>
    </td>
  </tr>
</table>

</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="documentation.html" title="Rain Documentation"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="whatis.html" title="What is FutureGrid Rain?"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Home</a>|&nbsp;</li>
        <li><a href="whatis.html">What is it?</a>|&nbsp;</li>
        <li><a href="#">Quickstart</a>|&nbsp;</li>
        <li><a href="documentation.html">Documentation</a>|&nbsp;</li>
        <li><a href="download.html">Download</a>|&nbsp;</li>
        <li><a href="support.html">Support</a>|&nbsp;</li>
        <li><a href="https://portal.futuregrid.org/">Portal</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Rain QuickStart</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#fg-shell-vs-command-line-interfaces">FG-Shell vs Command Line Interfaces</a></li>
<li><a class="reference internal" href="#using-image-repository">Using Image Repository</a></li>
<li><a class="reference internal" href="#using-image-generation">Using Image Generation</a></li>
<li><a class="reference internal" href="#using-image-registration">Using Image Registration</a></li>
<li><a class="reference internal" href="#using-rain">Using RAIN</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="whatis.html"
                        title="previous chapter">What is FutureGrid Rain?</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="documentation.html"
                        title="next chapter">Rain Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/quickstart.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
<body style="background-image:url('_static/header_bg.png');background-color: grey;">
</body>

      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rain-quickstart">
<span id="quickstart"></span><h1>Rain QuickStart<a class="headerlink" href="#rain-quickstart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>At this moment, our software only provides command line interfaces. Thus, users need access to the machine where the client part of the
software is installed. Currently, this is installed and configured in the India cluster (<tt class="docutils literal"><span class="pre">india.futuregrid.org</span></tt>). Since our software
is going to interact with different cloud infrastructures, users need to have the appropriated credentials for each case.</p>
<ul class="simple">
<li>If users want to register and run images on Eucalyptus, they need an Eucalyptus account, download and uncompress the credentials (see
<a class="reference external" href="https://portal.futuregrid.org/tutorials/eucalyptus">FG Eucalyptus Tutorial</a>). The important file is
the <tt class="docutils literal"><span class="pre">eucarc</span></tt> that contains the needed information about Eucalyptus and the user.</li>
<li>If users want to register and run images on OpenStack, they need an OpenStack account (see
<a class="reference external" href="https://portal.futuregrid.org/tutorials/openstack">FG OpenStack Tutorial</a>). User credentials should be in his <tt class="docutils literal"><span class="pre">HOME</span></tt> directory of the
India cluster. After uncompressing the credentials file, user will find the <tt class="docutils literal"><span class="pre">novarc</span></tt> file that contains important information
about Nimbus and the user.</li>
<li>If users want to register and run images on Nimbus, they need a Nimbus account
(<a class="reference external" href="https://portal.futuregrid.org/tutorials/nimbus">FG Nimbus Tutorial</a>). We are going to use the Nimbus infrastructure available
in the Hotel cluster from India (The other Nimbus deployments should work if they have the kernels needed by the images).
User credentials should be in his <tt class="docutils literal"><span class="pre">HOME</span></tt> directory of the Hotel cluster (<tt class="docutils literal"><span class="pre">hotel.futuregrid.org</span></tt>). Users have to copy and uncompress
their credentials in their <tt class="docutils literal"><span class="pre">HOME</span></tt> directory of India. Then, users have to create a directory called <tt class="docutils literal"><span class="pre">.nimbus</span></tt> in their <tt class="docutils literal"><span class="pre">HOME</span></tt> directory
of India and copy the files <tt class="docutils literal"><span class="pre">usercert.pem</span></tt> and <tt class="docutils literal"><span class="pre">userkey.pem</span></tt>. Other important file is the <tt class="docutils literal"><span class="pre">hotel.conf</span></tt> that contains information
about Nimbus and the user user.</li>
</ul>
<p>Once users have the appropriate accounts, they can login on India and use the module functionality to load the environment variables:</p>
<blockquote>
<div><div class="highlight-python"><pre>$ ssh &lt;username&gt;@india.futuregrid.org
$ module load futuregrid</pre>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At this point, users have to explicitly request access to the Image Management and rain tools by sending a ticket to <a class="reference external" href="https://portal.futuregrid.org/help">https://portal.futuregrid.org/help</a>.</p>
</div>
</div>
<div class="section" id="fg-shell-vs-command-line-interfaces">
<h2>FG-Shell vs Command Line Interfaces<a class="headerlink" href="#fg-shell-vs-command-line-interfaces" title="Permalink to this headline">¶</a></h2>
<p>To ease the use of the FG tools, we have created a shell that provides a common interface for all these tools. So, users just need to
remember how to execute the shell. Once users login into the shell, a number of features will be exposed to them. These features include
help, command&#8217;s auto-completion, and list of available commands organized by tool. Moreover, users only need to type the password
when they login into the shell.</p>
<p>Users can log into the shell by executing:</p>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-shell -u &lt;username&gt;</pre>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users need to use their FutureGrid portal password.</p>
</div>
<p>More information about using the shell can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
</div>
<div class="section" id="using-image-repository">
<h2>Using Image Repository<a class="headerlink" href="#using-image-repository" title="Permalink to this headline">¶</a></h2>
<p>The Image Repository is a service to query, store, and update images through a unique and common interface. Next, we show some examples of
the Image Repository usage (<tt class="docutils literal"><span class="pre">fg-repo</span></tt> command). More details can be found in the <a class="reference internal" href="man-repo.html#man-repo"><em>Image Repository Manual</em></a>.</p>
<p>Additionally, the Image Repository manages the user database for all the image management components. This database is used to authorize users, to
control the user&#8217;s quotas and to record usage information. Therefore, this database complements the LDAP server which is mainly focused on the
user authentication.</p>
<p>When using <tt class="docutils literal"><span class="pre">fg-shell</span></tt>, users need to load the Image Repository context by executing <tt class="docutils literal"><span class="pre">use</span> <span class="pre">repo</span></tt> inside the shell. The Image Repository environment
is also included in the Image Management (<tt class="docutils literal"><span class="pre">image</span></tt>) and Rain (<tt class="docutils literal"><span class="pre">rain</span></tt>) contexts. Once there is an active context, the <tt class="docutils literal"><span class="pre">help</span></tt> command
will show only the available commands for such context. Available contexts can be listed using the <tt class="docutils literal"><span class="pre">contexts</span></tt> command. More information
about the shell can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
<ul>
<li><p class="first">Upload an image</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-repo -p /home/javi/image.iso "vmtype=kvm&amp;os=Centos5&amp;arch=i386&amp;description=this is a test description&amp;tag=tsttag1, tsttag2&amp;permission=private" -u jdiaz
$ fg-repo -p /home/javi/image.iso "ImgType=Openstack&amp;os=Ubuntu&amp;arch=x86_64&amp;description=this is a test description" -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>put  /home/javi/image.iso ImgType=Openstack&amp;os=Ubuntu&amp;arch=x86_64&amp;description=this is a test description</pre>
</div>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The &amp; character is used to separate different metadata fields.</p>
</div>
<ul>
<li><p class="first">Get an image</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-repo -g 964160263274803087640112 -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>get 964160263274803087640112</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Modify the metadata of an image</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-repo -m 964160263274803087640112 "ImgType=Opennebula&amp;os=Ubuntu10" -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>modify 964160263274803087640112 ImgType=Opennebula&amp;os=Ubuntu10</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Query Image Repository</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-repo -q "* where vmType=kvm" -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>list * where vmType=kvm</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Add user to the Image Repository</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-repo --useradd juan -u jdiaz
$ fg-repo --usersetstatus juan active</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>user -a juan
user -m juan status active</pre>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="using-image-generation">
<h2>Using Image Generation<a class="headerlink" href="#using-image-generation" title="Permalink to this headline">¶</a></h2>
<p>This component creates images, according to user requirements, that can be registered in FutureGrid. Since FG is a testbed that
supports different type of infrastructures like HPC or IaaS frameworks, the images created by this tool are not aimed at any specific
environment. Thus, it is at registration time when the images are customized to be successfully integrated into the desired infrastructure.</p>
<p>Next, we provide some examples of the Image Generation usage (<tt class="docutils literal"><span class="pre">fg-generate</span></tt> command). More details can be found in the <a class="reference internal" href="man-generate.html#man-generate"><em>Image Generation Manual</em></a>.</p>
<p>When using <tt class="docutils literal"><span class="pre">fg-shell</span></tt>, users need to load the Image Management context by executing <tt class="docutils literal"><span class="pre">use</span> <span class="pre">image</span></tt> inside the shell. The Image Management
environment is also included in the Rain (<tt class="docutils literal"><span class="pre">rain</span></tt>) contexts. Once there is an active context,
the <tt class="docutils literal"><span class="pre">help</span></tt> command will show only the available commands for such context. Available contexts can be listed using the <tt class="docutils literal"><span class="pre">contexts</span></tt>
command. More information about the shell can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
<ul>
<li><p class="first">Generate a CentOS image</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-generate -o centos -v 5 -a x86_64 -s wget,emacs,python26 -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>generate -o centos -v 5 -a x86_64 -s wget,emacs,python26</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Generate an Ubuntu image</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-generate -o ubuntu -v 10.10 -a x86_64 -s wget,openmpi-bin -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>generate -o ubuntu -v 10.10 -a x86_64 -s wget,emacs,python26</pre>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="using-image-registration">
<h2>Using Image Registration<a class="headerlink" href="#using-image-registration" title="Permalink to this headline">¶</a></h2>
<p>This tool is responsible for customizing images for specific infrastructures and registering them in such infrastructures.
Currently, we fully support HPC (bare-metal machines), Eucalyptus, OpenStack, and Nimbus infrastructures. OpenNebula is also implemented but
we do not have this infrastructure in production yet.</p>
<p>Next, we provide some examples of the image registration usage (<tt class="docutils literal"><span class="pre">fg-register</span></tt> command). A detailed manual can be found in
the <a class="reference internal" href="man-register.html#man-register"><em>Image Registration Manual</em></a></p>
<p>When using <tt class="docutils literal"><span class="pre">fg-shell</span></tt>, users need to load the Image Management context by executing <tt class="docutils literal"><span class="pre">use</span> <span class="pre">image</span></tt> inside the shell. The Image Management
environment also loads the Image Repository context. The Image Management is also included in the Rain (<tt class="docutils literal"><span class="pre">rain</span></tt>) contexts. Once there is an
active context, the <tt class="docutils literal"><span class="pre">help</span></tt> command will show only the available commands for such context. Available contexts can be listed
using the <tt class="docutils literal"><span class="pre">contexts</span></tt> command. More information about the shell can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>To register an image in the HPC infrastructure, users need to specify the name of that HPC machine that they want to use with
the -x/&#8211;xcat option. The rest of the needed information will be taken from the configuration file.</li>
<li>To register an image in Eucalyptus, OpenStack and Nimbus infrastructures, you need to provide a file with the environment variables
using the -v/&#8211;varfile option.</li>
</ul>
</div>
<ul>
<li><p class="first">Register an image for the HPC Infrastructure India</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-register -r 964160263274803087640112 -x india -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>register -r 964160263274803087640112 -x india</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Register an image for OpenStack</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-register -r 964160263274803087640112 -s -v ~/novarc -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>register -r 964160263274803087640112 -s -v ~/novarc</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Customize an image for Ecualyptus but do not register it (here <tt class="docutils literal"><span class="pre">-v</span> <span class="pre">~/eucarc</span></tt> is not needed because we are not going to register the image
in the infrastructure)</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-register -r 964160263274803087640112 -e -g -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>register -r 964160263274803087640112 -e -g</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Register an image for Nimbus</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-register -r 964160263274803087640112 -n -v ~/hotel.conf -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>register -r 964160263274803087640112 -n -v ~/hotel.conf</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">List available kernels for the HPC infrastructure India</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>fg-register --listkernels -x india -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>hpclistkernels india</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">List available kernels for OpenStack</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>fg-register --listkernels -s -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">cloudlistkernels</span> <span class="o">-</span><span class="n">s</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="using-rain">
<h2>Using RAIN<a class="headerlink" href="#using-rain" title="Permalink to this headline">¶</a></h2>
<p>This component allow users to dynamically register FutureGrid software environments as requirement of a job submission.
This component will make use of the previous registration tool. Currently we only support HPC job submissions.</p>
<p>Next, we provide some examples of the Rain usage (<tt class="docutils literal"><span class="pre">fg-rain</span></tt> command). A detailed manual can be found in the <a class="reference internal" href="man-rain.html#man-rain"><em>Rain Manual</em></a>.</p>
<p>When using <tt class="docutils literal"><span class="pre">fg-shell</span></tt>, users need to load the Image Management context by executing <tt class="docutils literal"><span class="pre">use</span> <span class="pre">rain</span></tt> inside the shell. The Rain
environment also loads the Image Repository and Image Management contexts. Once there is an active context,
the <tt class="docutils literal"><span class="pre">help</span></tt> command will show only the available commands for such context. Available contexts can be listed using the <tt class="docutils literal"><span class="pre">contexts</span></tt>
command. More information about the shell can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>To register an image in the HPC infrastructure, users need to specify the name of that HPC machine that they want to use with
the -x/&#8211;xcat option. The rest of the needed information will be taken from the configuration file.</li>
<li>To register an image in Eucalyptus, OpenStack and Nimbus infrastructures, you need to provide a file with the environment variables
using the -v/&#8211;varfile option.</li>
</ul>
</div>
<ul>
<li><p class="first">Run a job in 4 nodes on India using an image stored in the Image Repository (This involves the registration of the image in the HPC infrastructure)</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-rain -r 1231232141 -x india -m 4 -j myscript.sh -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>use rain    #if your prompt is different to fg-rain&gt;
fg-rain&gt; launch -r 1231232141 -x india -m 4 -j myscript.sh</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Run a job in 2 nodes on India using an image already registered in the HPC Infrastructure India</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-rain -i centosjavi434512 -x india -m 2 -j myscript.sh -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>use rain    #if your prompt is different to fg-rain&gt;
fg-rain&gt; launch -i centosjavi434512 -x india -m 2 -j myscript.sh</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Interactive mode. Instantiate two VMs using an image already registered on OpenStack</p>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-rain -i ami-00000126 -s -v ~/novarc -m 2 -I -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>use rain    #if your prompt is different to fg-rain&gt;
fg-rain&gt; launch -i ami-00000126 -s -v ~/novarc -m 2 -I</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Run an MPI job in six VM using an image already registered on Eucalyptus (the image has to have the <tt class="docutils literal"><span class="pre">mpich2</span></tt> package installed)</p>
<p>Content of <tt class="docutils literal"><span class="pre">mpichjob.sh</span></tt>:</p>
<blockquote>
<div><div class="highlight-python"><pre>#!/bin/bash

#real home is /tmp/jdiaz/
#VM home is /N/u/jdiaz/
#$HOME/machines is a file with the VMs involved in this job

cd /tmp/N/u/jdiaz/mpichexample/

mpiexec.hydra -machinefile /N/u/jdiaz/machines -np `wc -l /N/u/jdiaz/machines |  cut -d" " -f1` /tmp/N/u/jdiaz/example/a.out &gt; /tmp/N/u/jdiaz/output.mpichexample</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the CLI</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>$ fg-rain -i ami-00000126 -e -v ~/eucarc -j mpichjob.sh -m 6 -u jdiaz</pre>
</div>
</div></blockquote>
<ul class="simple">
<li>Using the Shell</li>
</ul>
<blockquote>
<div><div class="highlight-python"><pre>use rain    #if your prompt is different to fg-rain&gt;
fg-rain&gt; launch -i ami-00000126 -e -v ~/eucarc -j mpichjob.sh -m 6</pre>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="documentation.html" title="Rain Documentation"
             >next</a></li>
        <li class="right" >
          <a href="whatis.html" title="What is FutureGrid Rain?"
             >previous</a> |</li>
        <li><a href="index.html">Home</a>|&nbsp;</li>
        <li><a href="whatis.html">What is it?</a>|&nbsp;</li>
        <li><a href="#">Quickstart</a>|&nbsp;</li>
        <li><a href="documentation.html">Documentation</a>|&nbsp;</li>
        <li><a href="download.html">Download</a>|&nbsp;</li>
        <li><a href="support.html">Support</a>|&nbsp;</li>
        <li><a href="https://portal.futuregrid.org/">Portal</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, The FutureGrid Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>